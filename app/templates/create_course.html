{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Create a New Course</h1>
    <form id="courseForm" method="POST" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        
        <!-- Title -->
        <div class="mb-3">
            {{ form.title.label(class="form-label") }}
            {{ form.title(class="form-control rounded-3 border-secondary") }}
        </div>
        
        <!-- Description -->
        <div class="mb-3">
            {{ form.description.label(class="form-label") }}
            <div id="description-editor" class="form-control rounded-3 border-secondary" style="height: 200px;"></div>
            <input type="hidden" name="description" id="description">
        </div>
        
        <!-- Language -->
        <div class="mb-3">
            {{ form.language.label(class="form-label") }}
            {{ form.language(class="form-control rounded-3 border-secondary") }}
        </div>

        <!-- Image Upload -->
        <div class="mb-3">
            {{ form.image_file.label(class="form-label") }}
            {{ form.image_file(class="form-control rounded-3 border-secondary") }}
        </div>
        
        <!-- Video URL -->
        <div class="mb-3">
            {{ form.video_url.label(class="form-label") }}
            {{ form.video_url(class="form-control rounded-3 border-secondary") }}
        </div>

        <!-- Number of Lessons -->
        <div class="mb-3">
            {{ form.lesson_count.label(class="form-label") }}
            {{ form.lesson_count(class="form-control rounded-3 border-secondary") }}
        </div>
        
        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary rounded-pill">Create Course</button>
    </form>
</div>
{% endblock %}

{% block scripts %}
    <!-- Include Quill Stylesheet and JS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    
    <script>
        // Initialize Quill editor
        var quill = new Quill('#description-editor', {
            theme: 'snow'
        });

        // Handle form submission
        document.getElementById('courseForm').onsubmit = function() {
            var description = document.querySelector('#description-editor .ql-editor').innerHTML;
            document.getElementById('description').value = description;
        };
    </script>
{% endblock %}

{% block footer %}
<!-- Footer -->
<footer class="bg-dark text-white text-center py-3" style="margin-top: 100px;">
    <div class="container">
        <p>&copy; 2024 Native Language Learning. All rights reserved.</p>
    </div>
</footer>
{% endblock %}
